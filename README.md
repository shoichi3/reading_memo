# ReadingMemo

紙の本に関するメモを整理するためのアプリケーションです。  
本にメモを結びつけることでメモを探す手間を省略することができます。

# URL

http://175.41.211.1

# 機能一覧および使用技術一覧

- ユーザー登録、ログイン機能(devise)
- マイページ機能
- 本追加機能
- 本の詳細表示機能
- 本編集機能
- 本削除機能 
- メモ追加機能
  - 画像投稿(ActiveStorage)
- メモの詳細表示機能
- メモ編集機能
- メモ削除機能 
- ページネーション機能(kaminari)
- 検索機能

- ruby 2.6.5  
- rails 6.0.0
- MySql 5.6.47
- Nginx
- Unicorn
- AWS
  - EC2
  - S3
- Capistrano3
- RSpec

# テスト
- RSpec
  - 単体テスト(model)
  - 結合テスト(system)

# テスト用アカウント

名前: 田中太郎  
メールアドレス: mrjh@gmail.com  
パスワード: tyu59k  

# 利用方法

ログインした後に本を追加することでその本に関するメモを追加することができます。

# 目指した課題解決

紙の本で読書をする人が本に書き込んだメモを探すために時間がかかったり、メモが整理されていないという課題を解決したかった。

# 洗い出した要件

## ユーザー管理機能
目的: ユーザーを管理するため。  
詳細: name、emailおよびpasswordの入力を求め、ユーザーを管理する。  
ユースケース: name、emailおよびpasswordを入力すると、サインインできる。また、ログインの場合はemailおよびpasswordを入力する。  

## マイページ機能
目的: ユーザーが追加した本を一覧表示するため。  
詳細: ログインしたユーザーを特定し、そのユーザーが追加した本を一覧表示する。  
ユースケース: サインインまたはログインするとマイページに遷移することができる。マイページでは追加した本を確認することができる。  

## 本追加機能
目的: ユーザーが本を追加できるようにするため。  
詳細: 本のタイトルを入力すると本を追加することができる。  
ユースケース: 「本の追加」をクリックすると、本のタイトルを追加することができる。  

## メモ追加機能
目的: ユーザーがメモを追加できるようにするため。  
詳細: メモする箇所の写真とメモの内容を入力すると、メモを追加することができる。  
ユースケース: メモ一覧ページで「メモの追加」をクリックすると、メモに関する写真とメモの内容を追加することができる。  

## 本の詳細表示機能
目的: その本に関するメモを一覧で表示するため。  
詳細: その本に関するメモを一覧で表示することができる。  
ユースケース: 登録された本をクリックすると、その本に関連するメモを確認することができる。  

## メモの詳細表示機能
目的: メモに関する情報を閲覧するため。  
詳細: 選択したメモだけを画面に表示することができる。  
ユースケース: 登録されたメモをクリックすると、メモの詳細を閲覧することができる。  

## 本削除機能
目的: 本を削除するため。  
詳細: 指定した本を削除することができる。また、その本に関連するメモも削除することができる。  
ユースケース: 「本の削除」をクリックすると、本を削除することができる。  

## メモ削除機能
目的: メモを削除するため。  
詳細: 指定したメモを削除することができる。  
ユースケース: メモ詳細ページで「メモの削除」をクリックすると、メモを削除することができる。  

## 本のタイトル編集機能
目的: 本のタイトルを編集するため。  
詳細: 本のタイトルを編集することができる。  
ユースケース: メモ一覧ページの「本の編集」をクリックすると、本のタイトルを編集することができる。  

## メモ編集機能
目的: メモを編集するため。  
詳細: メモやメモに該当する写真を編集することができる。  
ユースケース: メモ詳細ページで「メモの編集」をクリックすると、メモの内容を編集することができる。  

## ページネーション機能
目的: 本やメモの数が増えたときに、ページが冗長することを防ぐため。  
詳細: 1ページに決めた量以上の本やメモが追加された場合、入り切らなかったものは次のページに表示される。  
ユースケース: マイページや本の詳細表示ページの下部にある数字をクリックすると指定したページに移動でき、その場に表示されていなかった本やメモを閲覧することができる。  

## 検索機能
目的: 本やメモを探す時間を省略するため。  
詳細: キーワードを入力すると、それに関する本やメモだけが表示される。  
ユースケース: ページ上部にある検索ボックスでキーワードを検索し、それに関する本やメモだけを閲覧することができる。  

## レスポンシブWebデザイン機能
目的: スマートフォンでアプリを使用することができるようにするため。  
詳細: 画面の幅が変わった場合でも、ページが崩れないようにする。  
ユースケース: 異なる端末でアプリケーションを起動した場合でも整ったページでアプリケーションを操作することができる。  

# 実装した機能についての説明

## ユーザー管理機能

名前、メールアドレスおよびパスワードを入力することでサインインすることができる。  
[https://gyazo.com/2ed55175e17866cf02760cbb74929391](url)  

## マイページ機能

サインインまたはログイン後にマイページに遷移する。そこにはユーザが追加した本が表示されている。  
[https://gyazo.com/f98968ed2d87a041e877d166fd145505](url)  

## 本追加機能

「本の追加」をクリックすると、本のタイトルを入力することで本を追加することができる。また、追加した本はマイページに表示される。  
[https://gyazo.com/18b17792b31d57e6c491c750c6f59d1c](url)  

## 本の詳細表示機能

登録された本をクリックすると、その本に関するメモを表示することができる。  
[https://gyazo.com/27cd63182dea03506f3b080e94073a37](url)  

## 本のタイトル編集機能

「本の編集」をクリックすると、本のタイトルを編集することができる。  
[https://gyazo.com/acc2c2da12ad4e4808314eb51ffb8b37](url)  

## 本削除機能

「本の削除」をクリックすると、本を削除することができる。  
[https://gyazo.com/5ace374391563944372cbc58176765a0](url)  

## メモ追加機能

「メモの追加」をクリックすると、メモに該当する写真とメモの内容を追加することができる。  
またメモを追加した後は、本の詳細表示ページに遷移する。  
[https://gyazo.com/89c1bfc768afb576002aefdfc1523bd1](url)  
[https://gyazo.com/f4b4d7ca42f8d63ae79a6c5412a450ca](url)  

## メモの詳細表示機能

メモをクリックすると、メモを拡大して表示することができる。  
[https://gyazo.com/e37d25a20d5cec64288e7bb1c2e89dd6](url)  

## メモ編集機能

「メモの編集」をクリックすると、該当ページの写真やメモの内容に変更を加えることができる。  
[https://gyazo.com/aa9930fdd19326c7fa7b67347c0a1293](url)  

## メモ削除機能

「メモの削除」をクリックすると、メモを削除することができる。  
[https://gyazo.com/21e1e7f16a490bf407ea5da143754be5](url)  

## ページネーション機能

マイページ下部の数字をクリックすると、クリックしたページに遷移することができる。  
[https://gyazo.com/1c1a664bf3772bc666a2f2fba0e2e847](url)  

## 検索機能

ページ上部にある検索ボックスにキーワードを入力し、「検索」をクリックすると、条件に当てはまるものが表示される。  
[https://gyazo.com/85a77f69f44f6b218112f144c185b02a](url)  

# 実装予定の機能

レスポンシブWebデザイン機能

# ER図

[https://app.lucidchart.com/invitations/accept/6e9a99c9-e119-47b1-a5e6-7ad3cfd42859](url)

# テーブル設計

## usersテーブル

|  Column  |  Type  |   Option   |
| -------- | ------ | ---------- |
|   name   | string | null:false |
|   email  | string | null:false |
| password | string | null:false |  

### Association

- has_many :books
- has_many :memos

## booksテーブル

|  Column  |  Type  |   Option   |
| -------- | ------ | ---------- |
|  title   | string | null:false |

### Association

- belongs_to :user
- has_many :memos

## memosテーブル

|  Column  |    Type    |            Option             |
| -------- | ---------- | ----------------------------- |
|   text   |    text    | null:false                    |
|   user   | references | null:false, foreign_key: true |
|   book   | references | null:false, foreign_key: true |

### Association

- belongs_to :user
- belongs_to :book
- has_one_attached :image

# ローカルでの動作方法
% cd ~/projects  
% git clone https://github.com/shoichi3/reading_memo.git  
% cd reading_memo  
% bundle install  
% yarn install  
% rails db:create  
% rails db:migrate  